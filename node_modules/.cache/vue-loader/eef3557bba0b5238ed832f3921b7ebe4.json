{"remainingRequest":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quan/Documents/Projects/django-vue/frontend_test/src/views/user/menu-list.vue?vue&type=style&index=0&id=b9b780bc&lang=scss&scoped=true&","dependencies":[{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/src/views/user/menu-list.vue","mtime":1615822194522},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.error {\n  color: red;\n  font-size: 12px;\n}\n.pagination {\n  margin: 20px 0;\n  padding: 0 500px;\n  button {\n    min-width: 50px;\n    padding: 5px 90px;\n    font-weight: bold;\n    background: #151e5d;\n    color: #fff;\n    outline: none;\n    border: 1px solid #151e5d;\n    border-radius: 50px;\n    &:hover {\n      background: rgba(53, 62, 121, 0.99);\n    }\n  }\n  button.fleft {\n    background: white;\n    color: #2e42cd;\n    &:hover {\n      background: rgba(232, 230, 230, 0.99);\n    }\n  }\n}\n.menu-list {\n  font-family: Tahoma;\n  h3 {\n    float: right;\n    margin-top: 22px;\n    font-size: 25px;\n    font-weight: bold;\n    color: red;\n  }\n  h4 {\n    color: #151e5d;\n    font-weight: bold;\n  }\n}\n.menu__header--create {\n  text-align: right;\n}\n.menu__header {\n  margin-bottom: 30px;\n  color: #151e5d;\n  .menu__header--title {\n    width: 30%;\n  }\n  .menu__header--button {\n    min-width: 180px;\n    margin-right:20px;\n    margin-top: 5px;\n  }\n  h1 {\n    border-left: 5px solid #24387c;\n    font-size: 24px;\n    padding-left: 20px;\n    font-weight: bold;\n    color: #24374e;\n    line-height: 2;\n  }\n  a {\n    padding: 9px 60px;\n    background: #24387c;\n    border: 1px solid #24387c;\n    border-radius: 30px;\n    color: #fff;\n    font-weight: 600;\n  }\n}\n\n.menu__table {\n  color: #151e5d;\n  text-align: left;\n  overflow-x: auto;\n  table {\n    width: 100%;\n    border: none;\n    min-width: 700px;\n  }\n  thead {\n    /*width: 100%;*/\n    font-weight: 600;\n  }\n  tr {\n    /*width: 100%;*/\n    padding: 10px 16px;\n    border-bottom: 1px solid #ffffff;\n  }\n  thead {\n    background: #e8e6e6;\n    td {\n      padding: 5px 0 5px 40px;\n    }\n  }\n  tbody {\n    background: #fff;\n    padding: 10px 16px;\n    td {\n      padding: 10px 40px;\n    }\n  }\n  .delete {\n    width: 31px;\n    height: 31px;\n    line-height: 30px;\n    margin: 0 auto;\n    border-radius: 35px;\n    background: #f00;\n    padding: 0 10px;\n    cursor: pointer;\n    color: #fff;\n  }\n}\n.deleted {\n  width: 35%;\n  margin-left: 15px;\n}\n.not_delete {\n  width: 35%;\n  margin-right: 15px;\n}\n@media (max-width: 1500px) {\n  .pagination {\n    padding: 0 50px;\n  }\n}\n@media (max-width: 600px) {\n  .menu__table {\n    overflow-x: scroll;\n  }\n  .menu__header {\n    .menu__header--title {\n      width: 100%;\n    }\n    .menu__header--button {\n      min-width: 180px;\n    }\n  }\n  .pagination {\n    padding: 0;\n    button {\n      padding: 0 15px;\n    }\n  }\n}\n@media (max-width: 768px) {\n  .p__modal--content {\n    font-size: 13px;\n  }\n}\n@media (max-width: 450px) {\n  .menu__header--create {\n    margin-top: 20px;\n  }\n  .menu__table table {\n    margin-bottom: 60px;\n  }\n}\n",{"version":3,"sources":["menu-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"menu-list.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <default-layout>\n<!--    delete user-->\n    <Modal title=\"割表の削除\" v-if=\"isShowFormDelete\" @updateModalVisible=\"isShowFormDelete = false\" width=\"50%\">\n      <p class=\"p__modal--content\" style=\"font-weight: bold\">\n         削除すると、もとに戻すことはできません。 <br>\n         それでもよろしい場合は削除を選択してください。\n      </p>\n      <template slot=\"footer\">\n        <div @click=\"isShowFormDelete = false\" class=\"not_delete\">\n          <Button background-color=\"#fff\" color=\"#24374e\" border-color=\"#24374e\">キャンセル</Button>\n        </div>\n        <div class=\"deleted\">\n          <Button :click=\"onDelete\" border-color=\"#24374e\">削除</Button>\n        </div>\n      </template>\n    </Modal>\n<!--end delete user-->\n    <div class=\"menu-list\">\n      <div class=\"menu__header\">\n          <div class=\"col-md-8\" style=\"padding-left: 0\">\n            <Title>\n              割表\n            </Title>\n          </div>\n          <div class=\"menu__header--create col-md-4\">\n            <div class=\"menu_button\">\n              <Button :click=\"updateToMenu\">\n                <span class=\"signInButtonText\">新規作成</span>\n              </Button>\n            </div>\n          </div>\n        <div class=\"clear\"></div>\n      </div>\n      <div class=\"menu__table\">\n        <table>\n          <thead>\n            <td>割表名</td>\n            <td width=\"12%\">登録日</td>\n            <td width=\"7%\"></td>\n          </thead>\n          <tbody>\n            <tr v-for=\"(menu, index) in menus\" :key=\"index\">\n              <td style=\"cursor: pointer\"><router-link :to=\"`/menu/${menu._id}`\">{{!menu.name?'( 割表名を入力してください。)':menu.name}}</router-link></td>\n              <td>{{formatDate(menu.created_at)}}</td>\n              <td><div class=\"delete\" @click=\"confirmDeleteElement(index, menu)\">×</div></td>\n            </tr>\n          </tbody>\n        </table>\n        <Loader :visible=\"isShowLoading\" type=\"small\"/>\n      </div>\n      <div class=\"pagination\">\n        <button v-show=\"isShowPre\" class=\"fleft\" v-on:click=\"nextAndPreview('preview')\">&lt;&emsp;前へ</button>\n        <button v-show=\"isShowButton\" class=\"fright\" v-on:click=\"nextAndPreview('next')\">次へ&emsp;&gt;</button>\n        <div class=\"clear\"></div>\n      </div>\n    </div>\n  </default-layout>\n\n</template>\n\n<script>\n\nimport DefaultLayout from '../layouts/default-layout'\nimport Button from '../../components/partials/button'\nimport Modal from '../../components/partials/modal'\nimport MenuApi from '../../services/menu'\nimport Loader from '../../components/loader'\nimport { SET_LOADING } from '../../store/types'\nimport Title from '../../components/partials/title'\n\nexport default {\n  name: 'menu-list',\n  components: {\n    DefaultLayout,\n    Button,\n    Modal,\n    Loader,\n    Title\n  },\n  data () {\n    return {\n      isShow: false,\n      isCount: 1,\n      isShowFormDelete: false,\n      isShowLoading: false,\n      isShowPre: false,\n      isShowButton: false,\n      currentOffset: 0,\n      currentLimit: 25,\n      currentIndex: 1,\n      currentDelete: {\n        id: null,\n        index: null\n      },\n      form: {\n        name: ''\n      },\n      errors: {\n        name: ''\n      },\n      menus: [],\n      notifications: {\n        status: true,\n        show: false,\n        content: ''\n      }\n    }\n  },\n  async mounted () {\n    await this.$store.dispatch(SET_LOADING, true)\n    await this.getMenus()\n    await this.$store.dispatch(SET_LOADING, false)\n  },\n  methods: {\n    async getMenus () {\n      this.menus = await MenuApi.getList(this.currentOffset, this.currentLimit)\n      if (this.menus.length >= 25) {\n        this.isShowButton = true\n      }\n      if (this.menus.length < this.currentLimit) {\n        this.isShowButton = false\n      }\n    },\n    // Add menu\n    async updateToMenu () {\n      const created = new Date()\n      const formData = {\n        name: '',\n        created_at: created\n      }\n      const res = await MenuApi.addToMenu(formData)\n      this.$router.push('/menu/' + res._id)\n    },\n    // End add menu\n\n    async nextAndPreview (type) {\n      this.$store.dispatch(SET_LOADING, true)\n      if (type === 'next') {\n        this.isCount = this.isCount + 1\n        this.currentIndex = this.currentIndex + 25\n        this.currentOffset = this.currentOffset + 25\n        await this.getMenus()\n      }\n      if (type === 'preview') {\n        this.isCount = this.isCount - 1\n        if (this.currentIndex > this.currentLimit) {\n          this.currentIndex = this.currentIndex - 25\n          this.currentOffset = this.currentOffset - 25\n          await this.getMenus()\n        }\n      }\n\n      this.isShowPre = true\n      if (this.isCount <= 1) {\n        this.isShowPre = false\n      }\n      this.$store.dispatch(SET_LOADING, false)\n    },\n\n    formatDate (date) {\n      const fm = Date.parse(date)\n      const today = new Date(fm)\n      const newFm = today.getFullYear() + '/' + (today.getMonth() + 1) + '/' + today.getDate()\n      return newFm.toLocaleString('Ja-jp', { timeZone: 'Japan' })\n    },\n\n    confirmDeleteElement: function (index, menu) {\n      this.isShowFormDelete = true\n      this.currentDelete = {\n        id: menu._id,\n        index: index\n      }\n    },\n\n    async onDelete () {\n      await MenuApi.deleteToMenu(this.currentDelete.id)\n\n      this.$delete(this.menus, this.currentDelete.index)\n      this.isShowFormDelete = false\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n  .error {\n    color: red;\n    font-size: 12px;\n  }\n  .pagination {\n    margin: 20px 0;\n    padding: 0 500px;\n    button {\n      min-width: 50px;\n      padding: 5px 90px;\n      font-weight: bold;\n      background: #151e5d;\n      color: #fff;\n      outline: none;\n      border: 1px solid #151e5d;\n      border-radius: 50px;\n      &:hover {\n        background: rgba(53, 62, 121, 0.99);\n      }\n    }\n    button.fleft {\n      background: white;\n      color: #2e42cd;\n      &:hover {\n        background: rgba(232, 230, 230, 0.99);\n      }\n    }\n  }\n  .menu-list {\n    font-family: Tahoma;\n    h3 {\n      float: right;\n      margin-top: 22px;\n      font-size: 25px;\n      font-weight: bold;\n      color: red;\n    }\n    h4 {\n      color: #151e5d;\n      font-weight: bold;\n    }\n  }\n  .menu__header--create {\n    text-align: right;\n  }\n  .menu__header {\n    margin-bottom: 30px;\n    color: #151e5d;\n    .menu__header--title {\n      width: 30%;\n    }\n    .menu__header--button {\n      min-width: 180px;\n      margin-right:20px;\n      margin-top: 5px;\n    }\n    h1 {\n      border-left: 5px solid #24387c;\n      font-size: 24px;\n      padding-left: 20px;\n      font-weight: bold;\n      color: #24374e;\n      line-height: 2;\n    }\n    a {\n      padding: 9px 60px;\n      background: #24387c;\n      border: 1px solid #24387c;\n      border-radius: 30px;\n      color: #fff;\n      font-weight: 600;\n    }\n  }\n\n  .menu__table {\n    color: #151e5d;\n    text-align: left;\n    overflow-x: auto;\n    table {\n      width: 100%;\n      border: none;\n      min-width: 700px;\n    }\n    thead {\n      /*width: 100%;*/\n      font-weight: 600;\n    }\n    tr {\n      /*width: 100%;*/\n      padding: 10px 16px;\n      border-bottom: 1px solid #ffffff;\n    }\n    thead {\n      background: #e8e6e6;\n      td {\n        padding: 5px 0 5px 40px;\n      }\n    }\n    tbody {\n      background: #fff;\n      padding: 10px 16px;\n      td {\n        padding: 10px 40px;\n      }\n    }\n    .delete {\n      width: 31px;\n      height: 31px;\n      line-height: 30px;\n      margin: 0 auto;\n      border-radius: 35px;\n      background: #f00;\n      padding: 0 10px;\n      cursor: pointer;\n      color: #fff;\n    }\n  }\n  .deleted {\n    width: 35%;\n    margin-left: 15px;\n  }\n  .not_delete {\n    width: 35%;\n    margin-right: 15px;\n  }\n  @media (max-width: 1500px) {\n    .pagination {\n      padding: 0 50px;\n    }\n  }\n  @media (max-width: 600px) {\n    .menu__table {\n      overflow-x: scroll;\n    }\n    .menu__header {\n      .menu__header--title {\n        width: 100%;\n      }\n      .menu__header--button {\n        min-width: 180px;\n      }\n    }\n    .pagination {\n      padding: 0;\n      button {\n        padding: 0 15px;\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    .p__modal--content {\n      font-size: 13px;\n    }\n  }\n  @media (max-width: 450px) {\n    .menu__header--create {\n      margin-top: 20px;\n    }\n    .menu__table table {\n      margin-bottom: 60px;\n    }\n  }\n</style>\n"]}]}