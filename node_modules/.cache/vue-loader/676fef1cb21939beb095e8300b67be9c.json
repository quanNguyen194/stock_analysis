{"remainingRequest":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quan/Documents/Projects/django-vue/frontend_test/src/views/admin/edit-company.vue?vue&type=style&index=0&id=841abdd8&lang=scss&scoped=true&","dependencies":[{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/src/views/admin/edit-company.vue","mtime":1615822194522},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.button__redirect {\n  position: absolute;\n  z-index: 999;\n  right: 10px;\n  top: 0;\n}\n.error-message {\n  color: red;\n  font-size: 14px;\n}\n.back-to-list {\n  color: #0089f0;\n  font-size: 14px;\n  margin-bottom: 15px;\n  padding-top: 20px;\n  a.active {\n    color: #0089f0;\n  }\n  span {\n    position: relative;\n    display: inline-block;\n    padding: 0 0 0 16px;\n    color: #0089f0;\n    vertical-align: middle;\n    -webkit-text-decoration: none;\n    text-decoration: none;\n    font-size: 15px;\n  }\n  span:before {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    content: '';\n    vertical-align: middle;\n    left: 3px;\n    width: 7px;\n    height: 7px;\n    border-top: 1px solid #0089f0;\n    border-right: 1px solid #0089f0;\n    -webkit-transform: rotate(225deg);\n    -ms-transform: rotate(225deg);\n    transform: rotate(225deg);\n  }\n  span:after {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    content: '';\n    vertical-align: middle;\n    left: 3px;\n    width: 12px;\n    height: 1px;\n    background: #0089f0;\n  }\n}\n.menu__header {\n  border-left: 5px solid #24387c;\n  font-size: 24px;\n  padding-left: 20px;\n  font-weight: bold;\n  color: #24374e;\n  line-height: 2;\n  margin-bottom: 30px;\n}\n.button-edit {\n  margin-top: 25px\n}\n.setting-profile {\n  margin-bottom: 30px;\n\n  a {\n    color: #151e5d;\n  }\n\n  &-edit {\n    background-color: #fff;\n    padding: 20px;\n    border-bottom: 1px solid #efefef;\n\n    &:last-child {\n      border-bottom: none;\n      text-align: left;\n      .button__container {\n        margin: unset;\n      }\n    }\n\n    select {\n      width: 99.9%;\n      padding: 8px 10px;\n      border: 1px solid #2f2d2d99;\n      border-radius: 3px;\n      outline: none;\n    }\n\n    .name__store {\n      color: black;\n      font-size: 20px;\n      font-weight: bold;\n    }\n    p {\n      color: black;\n    }\n  }\n  &__input {\n    .col-md-3 {\n      color: #151e5d;\n    }\n    .col-md-12 {\n      border-bottom: 1px solid #efefef;\n      padding: 20px 0;\n    }\n  }\n\n  &__title {\n    color: #151e5d;\n    font-size: 16px;\n    font-weight: 600;\n    display: inline-block;\n    vertical-align: top;\n  }\n}\n.address {\n  padding: 0 20px;\n  .button-edit {\n    margin: unset;\n    float: right;\n    .button__container {\n      width: 100px !important;\n      margin-left: 30px;\n    }\n  }\n  .setting-profile__title {\n    margin-top: 30px;\n  }\n  .setting-profile-edit {\n    padding-left: 0;\n  }\n}\n.modal__footer {\n  .col-md-6 {\n    padding: 0 100px;\n  }\n}\n.modal-edit {\n\n  .col-md-3 {\n    color: #151e5d;\n    label {\n      color: #151e5d;\n      font-weight: bold;\n    }\n  }\n  .col-md-12 {\n    border-bottom: 1px solid #efefef;\n    padding: 20px 0;\n    &:last-child {\n      border-bottom: none;\n    }\n  }\n  .col-md-5 {\n    select {\n      width: 100%;\n      padding: 5px 10px;\n      font-size: 16px;\n      border: 1px solid #323131;\n    }\n  }\n}\n.store__table {\n  table {\n    width: 100%;\n    tr {\n      border-bottom: 1px solid #efefef;\n      width: 100% !important;\n      display: inline-block;\n    }\n    td.col-md-8 {\n      padding: 10px 0;\n    }\n    td.col-md-2 {\n      padding: 20px 0;\n    }\n  }\n}\n.delete_btn {\n  padding: 0 15px !important;\n}\n.button__container.delete_company {\n  background-color: red !important;\n}\n.deleted {\n  width: 35%;\n  margin-left: 15px;\n}\n.not_delete {\n  width: 35%;\n  margin-right: 15px;\n}\n@media (min-width: 769px) and (max-width: 1025px) {\n  .col-md-2 {\n    width: 40%;\n  }\n  .col-md-4 {\n    width: 70%;\n  }\n  .deleteStore {\n    width: 15%;\n  }\n  .editStore {\n    width: 15%;\n  }\n  .store__table table td.col-md-2 {\n    padding: 30px 0;\n  }\n}\n@media (max-width: 992px) {\n  .col-md-8 {\n    width: 70%;\n  }\n  .setting-profile__title {\n    margin-bottom: 10px;\n  }\n  .col-md-3 {\n    margin-bottom: 10px;\n  }\n}\n\n@media (max-width: 768px) {\n  .col-md-8 {\n    width: 70%;\n  }\n  .modal__p {\n    font-size: 13px;\n  }\n}\n@media (max-width: 450px) {\n  .back-to-list {\n    margin-top: 50px;\n  }\n  .store__table table td.col-md-2[data-v-841abdd8] {\n    padding: 9px 0;\n    display: inline-block;\n    margin: auto;\n    text-align: center;\n  }\n  .address {\n    .button-edit[data-v-841abdd8] {\n      float: none;\n      .button__container {\n        margin-left: unset;\n      }\n    }\n  }\n  .deleteStore {\n    float: left !important;\n    width: 48%;\n  }\n  .editStore {\n    float: right !important;\n    width: 48%;\n  }\n  .modal-edit {\n    max-width: 50%;\n  }\n}\n.redirect {\n  min-width: 150px;\n  margin-right: 20px;\n  margin-bottom: 30px;\n  span {\n    color: #fff;\n  }\n}\n\n",{"version":3,"sources":["edit-company.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit-company.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <admin-layout>\n    <!--    delete user-->\n    <Modal :title='modalTitle.name' v-if=\"isShowFormDelete\" @updateModalVisible=\"isShowFormDelete = false\" width=\"50%\">\n      <p class=\"modal__p\" style=\"font-weight: bold\">\n        削除すると、もとに戻すことはできません。 <br>\n        それでもよろしい場合は削除を選択してください。\n      </p>\n      <template slot=\"footer\">\n        <div @click=\"isShowFormDelete = false\" class=\"not_delete\">\n          <Button background-color=\"#fff\" color=\"#24374e\" border-color=\"#24374e\">キャンセル</Button>\n        </div>\n        <div class=\"deleted\">\n          <Button :click=\"onDelete\" border-color=\"#24374e\">削除</Button>\n        </div>\n      </template>\n    </Modal>\n    <!--end delete user-->\n    <div class=\"company_edit_form\" v-if=\"company._id\">\n      <div class=\"back-to-list\">\n        <router-link :to=\"`/admin/company`\"><span></span> 会社一覧へ戻る</router-link>\n      </div>\n      <div class=\"menu__header\">\n        会社を編集する\n      </div>\n      <div class=\"setting-profile\">\n        <!-- name -->\n        <div class=\"setting-profile-edit\">\n          <div class=\"setting-profile__title col-md-3\">\n            会社名\n          </div>\n          <div class=\"setting-profile__input col-md-4\">\n            <TextBox\n              id=\"name\"\n              type=\"text\"\n              v-model=\"form.name\"\n            />\n            <span class=\"error-message\" v-if=\"errors.name.length\">{{ errors.name }}</span>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n        <!-- zip code -->\n        <div class=\"setting-profile-edit\">\n          <div class=\"setting-profile__title col-md-3\">\n            郵便番号\n          </div>\n          <div class=\"setting-profile__input col-md-2\">\n            <TextBox\n              id=\"code\"\n              type=\"text\"\n              v-model=\"form.post_code\"\n            />\n            <span class=\"error-message\" v-if=\"errors.post_code.length\">{{ errors.post_code }}</span>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n        <!-- address -->\n        <div class=\"setting-profile-edit\">\n          <div class=\"setting-profile__title col-md-3\">\n            住所\n          </div>\n          <div class=\"setting-profile__input col-md-4\">\n            <TextBox\n              id=\"address\"\n              type=\"text\"\n              v-model=\"form.address\"\n            />\n            <span class=\"error-message\" v-if=\"errors.address.length\">{{errors.address}}</span>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n        <!-- representative name -->\n        <div class=\"setting-profile-edit\">\n          <div class=\"setting-profile__title col-md-3\">\n            代表者名\n          </div>\n          <div class=\"setting-profile__input col-md-2\">\n            <TextBox\n              id=\"representative_name\"\n              type=\"text\"\n              placeholder=\"日本橋支店\"\n              v-model=\"form.representative_name\"\n            />\n            <span class=\"error-message\" v-if=\"errors.representative_name.length\">{{errors.representative_name}}</span>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n        <!-- phone number -->\n        <div class=\"setting-profile-edit\">\n          <div class=\"setting-profile__title col-md-3\">\n            電話番号\n          </div>\n          <div class=\"setting-profile__input col-md-2\">\n            <TextBox\n              id=\"phone\"\n              type=\"tel\"\n              v-model=\"form.phone\"\n            />\n            <span class=\"error-message\" v-if=\"errors.phone.length\">{{errors.phone}}</span>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n        <!-- email -->\n        <div class=\"setting-profile-edit\">\n          <div class=\"setting-profile__title col-md-3\">\n            メールアドレス\n          </div>\n          <div class=\"setting-profile__input col-md-4\">\n            <TextBox\n              id=\"email\"\n              type=\"email\"\n              v-model=\"form.email\"\n            />\n            <span class=\"error-message\" v-if=\"errors.email.length\">{{errors.email}}</span>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n        <!-- url -->\n        <div class=\"setting-profile-edit\">\n          <div class=\"setting-profile__title col-md-3\">\n            URL\n          </div>\n          <div class=\"setting-profile__input col-md-4\">\n            <TextBox\n              id=\"url\"\n              name=\"store\"\n              type=\"url\"\n              v-model=\"form.url\"\n            />\n            <span class=\"error-message\" v-if=\"errors.url.length\">{{errors.url}}</span>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n\n        <div class=\"setting-profile-edit address\">\n          <div class=\"setting-profile__title col-md-3\">\n            店舗\n          </div>\n          <div class=\"setting-profile__phone col-lg-9\">\n            <div class=\"store__table\">\n              <table v-if=\"checkStore\">\n                <tr class=\"row\" v-for=\"(store, index) in stores\" :key=\"index\">\n                  <td class=\"col-md-8\">\n                    <div class=\"fleft clear\">\n                      <div class=\"name__store\">{{store.name}}</div>\n                      <br>\n                      <p class=\"address__store\">{{store.address}}</p>\n                      <p class=\"address__store\">ユーザー数: {{store.users_count || 0}}/{{store.max_users}}</p>\n                    </div>\n                  </td>\n                  <td class=\"deleteStore col-md-2\"><div class=\"button-edit\">\n                    <Button :click=\"() => confirmDeleteElement(index)\" class=\"delete_company\" width=\"206px\" height=\"46px\" padding=\"5px\">削除</Button>\n                  </div></td>\n                  <td class=\"editStore col-md-2\"><div class=\"button-edit\">\n                    <Button :click=\"() => confirmEditElement(index)\" width=\"206px\" height=\"46px\" padding=\"5px\">編集</Button>\n                  </div></td>\n                  <div class=\"clear\"></div>\n                </tr>\n              </table>\n            </div>\n            <div class=\"modal-edit\">\n              <Modal padding=\"15px 20px 20px\" textAlign=\"left\" background=\"#fff\" color=\"#151e5d\" :title='modalTitle.name' v-if=\"isShow\" @updateModalVisible=\"isShow = false\" width=\"80%\">\n                <div class=\"button__redirect\">\n                  <div v-if=\"isShowRedirect\" class=\"redirect fright clear\"><router-link :to=\"`/login?key=${encode(this.currentIndex)}`\" target = \"_blank\"><Button><span>店舗ページへ</span></Button></router-link></div>\n                </div>\n                <!-- name -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"store_name\">店舗名</label></div>\n                  <div class=\"col-md-9\">\n                    <TextBox\n                      id=\"store_name\"\n                      v-model=\"form.nameStore\"\n                      type=\"String\"\n                      placeholder=\"例：日本橋支店\"\n                      pleft=\"14px\"\n                      autocomplete=\"off\"\n                    />\n                    <span class=\"error-message\" v-if=\"errors.nameStore.length\">{{ errors.nameStore }}</span>\n                  </div>\n                </div>\n                <!-- zip code -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"code_store\">郵便番号</label></div>\n                  <div class=\"col-md-5\">\n                    <TextBox\n                      id=\"code_store\"\n                      v-model=\"form.codeStore\"\n                      type=\"text\"\n                      placeholder=\"例：1234567\"\n                      pleft=\"14px\"\n                      autocomplete=\"off\"\n                    />\n                    <span class=\"error-message\" v-if=\"errors.codeStore.length\">{{ errors.codeStore }}</span>\n                  </div>\n                </div>\n                <!-- address -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"addressStore\">住所</label></div>\n                  <div class=\"col-md-9\">\n                    <TextBox\n                      id=\"addressStore\"\n                      v-model=\"form.addressStore\"\n                      type=\"String\"\n                      placeholder=\"例：東京都中央区日本橋蛎殻町\"\n                      pleft=\"14px\"\n                      autocomplete=\"off\"\n                    />\n                    <span class=\"error-message\" v-if=\"errors.addressStore.length\">{{ errors.addressStore }}</span>\n                  </div>\n                </div>\n                <!-- manager -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"manager_store\">管理者名</label></div>\n                  <div class=\"col-md-5\">\n                    <TextBox\n                      id=\"manager_store\"\n                      v-model=\"form.managerStore\"\n                      type=\"String\"\n                      placeholder=\"日本橋支店\"\n                      pleft=\"14px\"\n                      autocomplete=\"off\"\n                    />\n                    <span class=\"error-message\" v-if=\"errors.managerStore.length\">{{ errors.managerStore }}</span>\n                  </div>\n                </div>\n                <!-- phone -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"phone_store\">電話番号</label></div>\n                  <div class=\"col-md-5\">\n                    <TextBox\n                      id=\"phone_store\"\n                      v-model=\"form.phoneStore\"\n                      type=\"tel\"\n                      placeholder=\"例：0123456789\"\n                      pleft=\"14px\"\n                      autocomplete=\"off\"\n                    />\n                    <span class=\"error-message\" v-if=\"errors.phoneStore.length\">{{ errors.phoneStore }}</span>\n                  </div>\n                </div>\n                <!-- email -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"email_store\">メールアドレス</label></div>\n                  <div class=\"col-md-9\">\n                    <TextBox\n                      id=\"email_store\"\n                      v-model=\"form.emailStore\"\n                      type=\"email\"\n                      placeholder=\"example@mail.com\"\n                      pleft=\"14px\"\n                      autocomplete=\"off\"\n                    />\n                    <span class=\"error-message\" v-if=\"errors.emailStore.length\">{{ errors.emailStore }}</span>\n                  </div>\n                </div>\n                <!-- password -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"passStore\">パスワード</label></div>\n                  <div class=\"col-md-9\">\n                    <TextBox\n                      id=\"passStore\"\n                      v-model=\"form.passwordStore\"\n                      type=\"new-password\"\n                      placeholder=\"4文字以上入力してください\"\n                      pleft=\"14px\"\n                      autocomplete=\"off\"\n                    />\n                    <span class=\"error-message\" v-if=\"errors.passwordStore.length\">{{ errors.passwordStore }}</span>\n                  </div>\n                </div>\n                <!-- plan -->\n                <div class=\"col-md-12\">\n                  <div class=\"col-md-3\"><label for=\"plan_store\">プラン</label></div>\n                  <div class=\"col-md-9\">\n                    <select v-model=\"form.planStore\"  id=\"plan_store\">\n                      <option disabled value=\"\">プランを選択</option>\n                      <option v-for=\"(plan, key) in plans\" :key=\"key\" :value=\"plan.value\" :selected=\"plan.value === form.planStore\">{{plan.name}}</option>\n                    </select>\n                    <span class=\"error-message\" v-if=\"errors.planStore.length\">{{ errors.planStore }}</span>\n                  </div>\n                </div>\n\n                <template slot=\"footer\">\n                    <div @click=\"isShow = false\" class=\"not_delete\">\n                      <Button background-color=\"#fff\" color=\"#24374e\" border-color=\"#24374e\">キャンセル</Button>\n                    </div>\n                    <div class=\"deleted\">\n                      <Button background-color=\"#000\" color=\"#fff\" :click=\"addStore\">{{saveButton}}</Button>\n                    </div>\n                </template>\n              </Modal>\n            </div>\n            <div class=\"setting-profile-edit\">\n              <div class=\"setting-profile__input\">\n                <Button :click=\"onFormAddStore\" width=\"150px\">店舗を追加</Button>\n              </div>\n              <div class=\"clear\"></div>\n            </div>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-6 button-edit\">\n            <Button :click=\"onSave\" width=\"206px\" height=\"46px\" padding=\"5px\">保存する</Button>\n          </div>\n          <div class=\"col-md-6 button-edit\">\n            <Button class=\"delete_company\" :click =\"confirmDelCompany\" width=\"206px\" height=\"46px\" padding=\"5px\">削除</Button>\n          </div>\n        </div>\n      </div>\n    </div>\n    </admin-layout>\n</template>\n\n<script>\nimport TextBox from '../../components/partials/textbox'\nimport Button from '../../components/partials/button'\nimport Modal from '../../components/partials/modal'\nimport AdminLayout from '../layouts/admin-layout'\nimport { SET_LOADING } from '../../store/types'\nimport { mapActions, mapGetters } from 'vuex'\nimport CompanyApi from '../../services/company'\nimport StoreApi from '../../services/store'\nimport SettingApi from '../../services/setting'\n\nexport default {\n  name: 'setting-profile',\n  components: {\n    TextBox,\n    Button,\n    Modal,\n    AdminLayout\n  },\n  computed: {\n    ...mapGetters({\n      profile: 'user'\n    })\n  },\n  watch: {\n    name (data) {\n    }\n  },\n  data () {\n    return {\n      id: this.$route.params.id,\n      modalTitle: {\n        name: ''\n      },\n      plans: [\n        {\n          value: 3,\n          name: '～3名'\n        },\n        {\n          value: 9,\n          name: '4～9名'\n        },\n        {\n          value: 29,\n          name: '10～29名'\n        },\n        {\n          value: 50,\n          name: '30～50名'\n        }\n      ],\n      saveButton: '',\n      isShowRedirect: false,\n      currentIndex: '',\n      errors: this.resetErrors(),\n      isShow: false,\n      checkStore: true,\n      formType: '',\n      isShowFormDelete: false,\n      form: {\n        name: '',\n        post_code: '',\n        address: '',\n        representative_name: '',\n        phone: '',\n        email: '',\n        url: '',\n        nameStore: '',\n        passwordStore: '',\n        codeStore: '',\n        addressStore: '',\n        managerStore: '',\n        phoneStore: '',\n        emailStore: '',\n        planStore: ''\n      },\n      stores: [],\n      store: [],\n      company: {},\n      companies: [],\n      users: [],\n      visible: false\n    }\n  },\n  async mounted () {\n    this.setLoading(true)\n    this.stores = await StoreApi.getStores(this.id)\n    this.company = await CompanyApi.getDetailACompany(this.id)\n\n    this.form.name = this.company.name\n    this.form.post_code = this.company.post_code\n    this.form.representative_name = this.company.representative_name\n    this.form.address = this.company.address\n    this.form.phone = this.company.phone\n    this.form.email = this.company.email\n    this.form.url = this.company.url\n\n    this.companies = await CompanyApi.getCompany()\n    const list = await SettingApi.listUsers()\n    this.users = list.data.users\n    this.setLoading(false)\n  },\n  methods: {\n    ...mapActions({\n      setLoading: SET_LOADING\n    }),\n    encode (store) {\n      const res = {\n        name: store.name,\n        store_id: store._id,\n        admin_id: this.profile._id,\n        company_id: this.company._id\n      }\n      return Buffer.from(JSON.stringify(res)).toString('base64')\n    },\n    resetErrors () {\n      return {\n        name: '',\n        post_code: '',\n        address: '',\n        representative_name: '',\n        phone: '',\n        email: '',\n        url: '',\n        nameStore: '',\n        passwordStore: '',\n        codeStore: '',\n        addressStore: '',\n        managerStore: '',\n        phoneStore: '',\n        emailStore: '',\n        planStore: ''\n      }\n    },\n    /* functions DELETE STORE */\n    confirmDeleteElement (index) {\n      this.isShowFormDelete = true\n      this.formType = 'delStore'\n      this.modalTitle.name = 'ストアを削除'\n      this.currentDelete = {\n        id: this.stores[index]._id,\n        index: index\n      }\n    },\n    async onDelete () {\n      if (this.formType === 'delStore') {\n        await StoreApi.deleteStore(this.id, this.currentDelete.id)\n        this.$delete(this.stores, this.currentDelete.index)\n        this.isShowFormDelete = false\n      }\n      if (this.formType === 'delCompany') {\n        await CompanyApi.deleteCompany(this.id)\n        this.isShowFormDelete = false\n        await this.$router.push('/admin/company/')\n      }\n    },\n    /* functions EDIT STORE */\n    confirmEditElement (index) {\n      this.formType = 'edit'\n      this.saveButton = '保存する'\n      this.currentIndex = this.stores[index]\n      this.errors = this.resetErrors()\n      this.form.passwordStore = ''\n      this.isShow = true\n      this.isShowRedirect = true\n      this.modalTitle.name = 'ストアを編集する'\n      this.currentEdit = {\n        id: this.stores[index]._id,\n        index: index\n      }\n      this.store = this.stores[index]\n      this.form.nameStore = this.store.name\n      this.form.codeStore = this.store.post_code\n      this.form.addressStore = this.store.address\n      // this.form.passwordStore = this.store.password\n      this.form.managerStore = this.store.representative_name\n      this.form.phoneStore = this.store.phone\n      this.form.emailStore = this.store.email\n      this.form.planStore = this.store.max_users\n    },\n    clearValueForm () {\n      this.form.nameStore = ''\n      this.form.codeStore = ''\n      this.form.addressStore = ''\n      // this.form.passwordStore = ''\n      this.form.managerStore = ''\n      this.form.phoneStore = ''\n      this.form.emailStore = ''\n      this.form.planStore = ''\n    },\n    /* functions CREATE STORE */\n    onFormAddStore () {\n      this.clearValueForm()\n      this.formType = 'add'\n      this.saveButton = '登録する'\n      this.isShowRedirect = false\n      this.errors = this.resetErrors()\n      this.isShow = true\n      this.modalTitle.name = '店舗追加'\n    },\n\n    async addStore () {\n      let canSave = true\n\n      if (!this.form.nameStore) {\n        this.errors.nameStore = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.nameStore = ''\n      }\n      if (this.formType === 'add') {\n        if (!this.form.passwordStore) {\n          this.errors.passwordStore = '*この項目は必須です。'\n          canSave = false\n        } else if (this.form.passwordStore.length < 4) {\n          this.errors.passwordStore = '奇形'\n          canSave = false\n        }\n      } else {\n        this.errors.passwordStore = ''\n      }\n\n      if (!this.form.codeStore) {\n        this.errors.codeStore = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.codeStore = ''\n      }\n\n      if (!this.form.addressStore) {\n        this.errors.addressStore = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.addressStore = ''\n      }\n\n      if (!this.form.managerStore) {\n        this.errors.managerStore = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.managerStore = ''\n      }\n\n      if (!this.form.phoneStore) {\n        this.errors.phoneStore = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.phoneStore = ''\n      }\n      if (!this.form.emailStore) {\n        this.errors.emailStore = '*この項目は必須です。'\n        canSave = false\n      } else if (!(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(this.form.emailStore))) {\n        this.errors.emailStore = '無効な形式！ このフィールドは電子メールである必要があります。'\n        canSave = false\n      } else {\n        this.errors.emailStore = ''\n      }\n\n      if (!this.form.planStore) {\n        this.errors.planStore = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.planStore = ''\n      }\n\n      if (canSave === true) {\n        const formData = {\n          name: this.form.nameStore,\n          password: this.form.passwordStore,\n          post_code: this.form.codeStore,\n          address: this.form.addressStore,\n          representative_name: this.form.managerStore,\n          phone: this.form.phoneStore,\n          email: this.form.emailStore,\n          max_users: this.form.planStore\n        }\n        if (this.formType === 'add') {\n          const res = await StoreApi.addToStore(this.id, formData)\n          if (res.error) {\n            canSave = false\n            if (res.error === 'email_or_phone_already_exists') {\n              this.errors.emailStore = '*すでに使用済みのメールアドレスです'\n            }\n          } else {\n            this.stores.push({\n              name: this.form.nameStore,\n              password: this.form.passwordStore,\n              post_code: this.form.codeStore,\n              address: this.form.addressStore,\n              representative_name: this.form.managerStore,\n              phone: this.form.phoneStore,\n              email: this.form.emailStore,\n              max_users: this.form.planStore,\n              _id: res._id,\n              users_count: 1\n            })\n            this.isShow = false\n          }\n        }\n        if (this.formType === 'edit') {\n          if (!this.form.passwordStore || this.form.passwordStore.length < 1) {\n            delete formData.password\n          }\n\n          const res = await StoreApi.updateStore(this.id, this.currentEdit.id, formData)\n          if (res.error) {\n            canSave = false\n            if (res.error === 'email_or_phone_already_exists') {\n              this.errors.emailStore = '*すでに使用済みのメールアドレスです'\n            }\n          } else {\n            this.stores[this.currentEdit.index] = {\n              name: this.form.nameStore,\n              // password: this.form.passwordStore,\n              post_code: this.form.codeStore,\n              address: this.form.addressStore,\n              representative_name: this.form.managerStore,\n              phone: this.form.phoneStore,\n              email: this.form.emailStore,\n              max_users: this.form.planStore,\n              _id: res._id,\n              users_count: this.stores[this.currentEdit.index].users_count\n            }\n            this.isShow = false\n          }\n        }\n      }\n    },\n    /* functions EDIT COMPANY */\n    onSave () {\n      const isUserEmailExisted = this.users.filter(user => {\n        return user.email === this.form.email\n      })\n\n      const isCompanyEmailExisted = this.companies.filter(company => {\n        return company.email === this.form.email\n      })\n      let canSave = true\n      if (!this.form.name) {\n        this.errors.name = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.name = ''\n      }\n\n      if (!this.form.post_code) {\n        this.errors.post_code = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.post_code = ''\n      }\n\n      if (!this.form.address) {\n        this.errors.address = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.address = ''\n      }\n\n      if (!this.form.representative_name) {\n        this.errors.representative_name = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.representative_name = ''\n      }\n\n      if (!this.form.phone) {\n        this.errors.phone = '*この項目は必須です。'\n        canSave = false\n      } else {\n        this.errors.phone = ''\n      }\n\n      if (this.form.email && !(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(this.form.email))) {\n        this.errors.email = '無効な形式！ このフィールドは電子メールである必要があります。'\n        canSave = false\n      } else if (this.form.email && (isUserEmailExisted.length > 1 || isCompanyEmailExisted.length >= 1)) {\n        this.errors.email = 'すでに使用済みのメールアドレスです。'\n        canSave = false\n      } else {\n        this.errors.email = ''\n      }\n\n      if (this.form.url) {\n        // eslint-disable-next-line no-useless-escape\n        if (!(/^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/.test(this.form.url))) {\n          this.errors.url = '*無効な形式!'\n          canSave = false\n        } else {\n          this.errors.url = ''\n        }\n      }\n\n      if (canSave === true) {\n        const formData = {\n          name: this.form.name,\n          post_code: this.form.post_code,\n          address: this.form.address,\n          representative_name: this.form.representative_name,\n          phone: this.form.phone,\n          email: this.form.email,\n          url: this.form.url,\n          stores: this.stores\n        }\n        CompanyApi.updateCompany(this.id, formData)\n        this.$router.push('/admin/company/')\n      }\n    },\n    isVisible () {\n      this.visible = true\n    },\n    /* functions DELETE COMPANY */\n    confirmDelCompany () {\n      this.isShowFormDelete = true\n      this.formType = 'delCompany'\n      this.modalTitle.name = '会社を削除する'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .button__redirect {\n    position: absolute;\n    z-index: 999;\n    right: 10px;\n    top: 0;\n  }\n  .error-message {\n    color: red;\n    font-size: 14px;\n  }\n  .back-to-list {\n    color: #0089f0;\n    font-size: 14px;\n    margin-bottom: 15px;\n    padding-top: 20px;\n    a.active {\n      color: #0089f0;\n    }\n    span {\n      position: relative;\n      display: inline-block;\n      padding: 0 0 0 16px;\n      color: #0089f0;\n      vertical-align: middle;\n      -webkit-text-decoration: none;\n      text-decoration: none;\n      font-size: 15px;\n    }\n    span:before {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      margin: auto;\n      content: '';\n      vertical-align: middle;\n      left: 3px;\n      width: 7px;\n      height: 7px;\n      border-top: 1px solid #0089f0;\n      border-right: 1px solid #0089f0;\n      -webkit-transform: rotate(225deg);\n      -ms-transform: rotate(225deg);\n      transform: rotate(225deg);\n    }\n    span:after {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      margin: auto;\n      content: '';\n      vertical-align: middle;\n      left: 3px;\n      width: 12px;\n      height: 1px;\n      background: #0089f0;\n    }\n  }\n  .menu__header {\n    border-left: 5px solid #24387c;\n    font-size: 24px;\n    padding-left: 20px;\n    font-weight: bold;\n    color: #24374e;\n    line-height: 2;\n    margin-bottom: 30px;\n  }\n  .button-edit {\n    margin-top: 25px\n  }\n  .setting-profile {\n    margin-bottom: 30px;\n\n    a {\n      color: #151e5d;\n    }\n\n    &-edit {\n      background-color: #fff;\n      padding: 20px;\n      border-bottom: 1px solid #efefef;\n\n      &:last-child {\n        border-bottom: none;\n        text-align: left;\n        .button__container {\n          margin: unset;\n        }\n      }\n\n      select {\n        width: 99.9%;\n        padding: 8px 10px;\n        border: 1px solid #2f2d2d99;\n        border-radius: 3px;\n        outline: none;\n      }\n\n      .name__store {\n        color: black;\n        font-size: 20px;\n        font-weight: bold;\n      }\n      p {\n        color: black;\n      }\n    }\n    &__input {\n      .col-md-3 {\n        color: #151e5d;\n      }\n      .col-md-12 {\n        border-bottom: 1px solid #efefef;\n        padding: 20px 0;\n      }\n    }\n\n    &__title {\n      color: #151e5d;\n      font-size: 16px;\n      font-weight: 600;\n      display: inline-block;\n      vertical-align: top;\n    }\n  }\n  .address {\n    padding: 0 20px;\n    .button-edit {\n      margin: unset;\n      float: right;\n      .button__container {\n        width: 100px !important;\n        margin-left: 30px;\n      }\n    }\n    .setting-profile__title {\n      margin-top: 30px;\n    }\n    .setting-profile-edit {\n      padding-left: 0;\n    }\n  }\n  .modal__footer {\n    .col-md-6 {\n      padding: 0 100px;\n    }\n  }\n  .modal-edit {\n\n    .col-md-3 {\n      color: #151e5d;\n      label {\n        color: #151e5d;\n        font-weight: bold;\n      }\n    }\n    .col-md-12 {\n      border-bottom: 1px solid #efefef;\n      padding: 20px 0;\n      &:last-child {\n        border-bottom: none;\n      }\n    }\n    .col-md-5 {\n      select {\n        width: 100%;\n        padding: 5px 10px;\n        font-size: 16px;\n        border: 1px solid #323131;\n      }\n    }\n  }\n  .store__table {\n    table {\n      width: 100%;\n      tr {\n        border-bottom: 1px solid #efefef;\n        width: 100% !important;\n        display: inline-block;\n      }\n      td.col-md-8 {\n        padding: 10px 0;\n      }\n      td.col-md-2 {\n        padding: 20px 0;\n      }\n    }\n  }\n  .delete_btn {\n    padding: 0 15px !important;\n  }\n  .button__container.delete_company {\n    background-color: red !important;\n  }\n  .deleted {\n    width: 35%;\n    margin-left: 15px;\n  }\n  .not_delete {\n    width: 35%;\n    margin-right: 15px;\n  }\n  @media (min-width: 769px) and (max-width: 1025px) {\n    .col-md-2 {\n      width: 40%;\n    }\n    .col-md-4 {\n      width: 70%;\n    }\n    .deleteStore {\n      width: 15%;\n    }\n    .editStore {\n      width: 15%;\n    }\n    .store__table table td.col-md-2 {\n      padding: 30px 0;\n    }\n  }\n  @media (max-width: 992px) {\n    .col-md-8 {\n      width: 70%;\n    }\n    .setting-profile__title {\n      margin-bottom: 10px;\n    }\n    .col-md-3 {\n      margin-bottom: 10px;\n    }\n  }\n\n  @media (max-width: 768px) {\n    .col-md-8 {\n      width: 70%;\n    }\n    .modal__p {\n      font-size: 13px;\n    }\n  }\n  @media (max-width: 450px) {\n    .back-to-list {\n      margin-top: 50px;\n    }\n    .store__table table td.col-md-2[data-v-841abdd8] {\n      padding: 9px 0;\n      display: inline-block;\n      margin: auto;\n      text-align: center;\n    }\n    .address {\n      .button-edit[data-v-841abdd8] {\n        float: none;\n        .button__container {\n          margin-left: unset;\n        }\n      }\n    }\n    .deleteStore {\n      float: left !important;\n      width: 48%;\n    }\n    .editStore {\n      float: right !important;\n      width: 48%;\n    }\n    .modal-edit {\n      max-width: 50%;\n    }\n  }\n  .redirect {\n    min-width: 150px;\n    margin-right: 20px;\n    margin-bottom: 30px;\n    span {\n      color: #fff;\n    }\n  }\n\n</style>\n"]}]}