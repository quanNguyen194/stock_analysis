{"remainingRequest":"/home/quan/Documents/Projects/stock_analysis/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quan/Documents/Projects/stock_analysis/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quan/Documents/Projects/stock_analysis/src/App.vue","mtime":1615824491695},{"path":"/home/quan/Documents/Projects/stock_analysis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/stock_analysis/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/quan/Documents/Projects/stock_analysis/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/stock_analysis/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\nimport { mapActions, mapGetters } from 'vuex'\nimport { VERIFY_TOKEN } from './store/types'\n\nexport default {\n  name: 'app',\n  computed: {\n    ...mapGetters({\n      user: 'user'\n    })\n  },\n  methods: {\n    ...mapActions({\n      verifyToken: VERIFY_TOKEN\n    })\n  },\n  async mounted () {\n    const path = this.$router.currentRoute.path\n    if (!['/login', '/reset-password', '/forgot-password'].includes(path)) {\n      // const verifyRes = await this.verifyToken()\n      // if (!verifyRes) {\n      //   return this.$router.replace({ name: 'login' })\n      // }\n\n      // const userRole = verifyRes.user.role\n      const userRole = 'user'\n      if (userRole === 'admin' && !path.includes('admin')) {\n        return this.$router.replace('/admin/company')\n      }\n\n      if (path === '/admin/company' && (userRole !== 'admin')) {\n        return this.$router.replace('/menu')\n      }\n    }\n    window.onbeforeunload = function (e) {\n      window.localStorage.removeItem('preview_token')\n    }\n  }\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template lang=\"html\">\n  <div id=\"app\">\n      <router-view />\n  </div>\n</template>\n\n<script lang=\"js\">\nimport { mapActions, mapGetters } from 'vuex'\nimport { VERIFY_TOKEN } from './store/types'\n\nexport default {\n  name: 'app',\n  computed: {\n    ...mapGetters({\n      user: 'user'\n    })\n  },\n  methods: {\n    ...mapActions({\n      verifyToken: VERIFY_TOKEN\n    })\n  },\n  async mounted () {\n    const path = this.$router.currentRoute.path\n    if (!['/login', '/reset-password', '/forgot-password'].includes(path)) {\n      // const verifyRes = await this.verifyToken()\n      // if (!verifyRes) {\n      //   return this.$router.replace({ name: 'login' })\n      // }\n\n      // const userRole = verifyRes.user.role\n      const userRole = 'user'\n      if (userRole === 'admin' && !path.includes('admin')) {\n        return this.$router.replace('/admin/company')\n      }\n\n      if (path === '/admin/company' && (userRole !== 'admin')) {\n        return this.$router.replace('/menu')\n      }\n    }\n    window.onbeforeunload = function (e) {\n      window.localStorage.removeItem('preview_token')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import \"assets/scss/common\";\n</style>\n"]}]}