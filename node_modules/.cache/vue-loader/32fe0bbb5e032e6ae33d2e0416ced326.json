{"remainingRequest":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quan/Documents/Projects/django-vue/frontend_test/src/components/header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/src/components/header.vue","mtime":1615822194518},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/quan/Documents/Projects/django-vue/frontend_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { mapActions, mapGetters } from 'vuex'\nimport DropdownMenu from './partials/dropdown-menu'\nimport { LOGOUT } from '../store/types'\nimport { API_URL } from '@/constants/api'\n\nexport default {\n  name: 'app-header',\n  components: {\n    DropdownMenu\n  },\n  computed: {\n    ...mapGetters({\n      user: 'user',\n      isLoading: 'isLoading',\n      store: 'store',\n      profile: 'user'\n    })\n  },\n  data () {\n    return {\n      showMenu: false,\n      avatar_url: '',\n      isShowStoreName: false\n    }\n  },\n  beforeMount () {\n    this.avatar_url = API_URL + '/' + this.user.avatar\n  },\n  methods: {\n    ...mapActions({\n      signOut: LOGOUT\n    }),\n    toggleLoader (state) {\n      this.$nuxt.$emit('toggleLoader', state)\n    },\n\n    toggleLoginUserMenu (state) {\n      this.dispLoginUserMenu = state\n    },\n    logout () {\n      this.signOut()\n        .then(() => {\n          this.$router.push('/login')\n          localStorage.removeItem('currentTab')\n        })\n        .catch((error) => {\n          console.error(error)\n        })\n    },\n    toProfile () {\n      if (this.user.role !== 'admin') {\n        localStorage.setItem('currentTab', 'profile')\n        if (this.$route.path !== '/setting') {\n          this.$router.push('/setting')\n        }\n      }\n    },\n    toggleDropdownMenu () {\n      this.showMenu = !this.showMenu\n    },\n    closeDropdownMenu () {\n      this.showMenu = false\n    }\n  }\n}\n",{"version":3,"sources":["header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"header\">\n    <div class=\"row\">\n      <div class=\"fleft\">\n        <div class=\"header__logo\">\n          <img :src=\"require('../assets/logo.png')\" />\n          <span>Braitokit Cloud</span>\n        </div>\n      </div>\n      <div class=\"fright\">\n        <div class=\"header__actions fright\"\n             @mouseenter=\"toggleLoginUserMenu(true)\"\n             @mouseleave=\"toggleLoginUserMenu(false)\"\n             @click=\"toggleDropdownMenu()\"\n             v-click-outside=\"closeDropdownMenu\"\n        >\n          <div class=\"login__user\">\n            <div class=\"avatar\">\n              <img :src=\"avatar_url\" alt=\"\">\n            </div>\n<!--            <div class=\"username\">-->\n<!--              {{ user.name }}-->\n<!--            </div>-->\n          </div>\n          <dropdown-menu v-if=\"showMenu\" v-click-outside=\"closeDropdownMenu\">\n            <ul class=\"dropdown-menu__nav\">\n              <li class=\"dropdown-menu__item font-weight-bold\">\n                <div class=\"username dropdown-menu__url\" @click=\"toProfile()\">\n                  {{ user.name }}\n                </div>\n              </li>\n              <li class=\"dropdown-menu__item\">\n                <div class=\"dropdown-menu__url\" @click=\"logout()\">\n                  <span class=\"dropdown-menu__text\">ログアウト</span>\n                </div>\n              </li>\n            </ul>\n          </dropdown-menu>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"js\">\nimport { mapActions, mapGetters } from 'vuex'\nimport DropdownMenu from './partials/dropdown-menu'\nimport { LOGOUT } from '../store/types'\nimport { API_URL } from '@/constants/api'\n\nexport default {\n  name: 'app-header',\n  components: {\n    DropdownMenu\n  },\n  computed: {\n    ...mapGetters({\n      user: 'user',\n      isLoading: 'isLoading',\n      store: 'store',\n      profile: 'user'\n    })\n  },\n  data () {\n    return {\n      showMenu: false,\n      avatar_url: '',\n      isShowStoreName: false\n    }\n  },\n  beforeMount () {\n    this.avatar_url = API_URL + '/' + this.user.avatar\n  },\n  methods: {\n    ...mapActions({\n      signOut: LOGOUT\n    }),\n    toggleLoader (state) {\n      this.$nuxt.$emit('toggleLoader', state)\n    },\n\n    toggleLoginUserMenu (state) {\n      this.dispLoginUserMenu = state\n    },\n    logout () {\n      this.signOut()\n        .then(() => {\n          this.$router.push('/login')\n          localStorage.removeItem('currentTab')\n        })\n        .catch((error) => {\n          console.error(error)\n        })\n    },\n    toProfile () {\n      if (this.user.role !== 'admin') {\n        localStorage.setItem('currentTab', 'profile')\n        if (this.$route.path !== '/setting') {\n          this.$router.push('/setting')\n        }\n      }\n    },\n    toggleDropdownMenu () {\n      this.showMenu = !this.showMenu\n    },\n    closeDropdownMenu () {\n      this.showMenu = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.font-weight-bold{\n  font-weight: bold\n}\n.header {\n  box-sizing: border-box;\n  position: fixed;\n  width: 100vw;\n  height: 56px;\n  padding: 0 24px 0 24px;\n  background-color: #fff;\n  z-index: 999;\n\n  &.sm {\n    height: 42px;\n    padding: 0 8px;\n  }\n\n  &.md {\n    height: 42px;\n    padding: 0 8px;\n  }\n\n  &__logo {\n    display: flex;\n    align-items: center;\n    img {\n      max-width: 100%;\n      width: 35px;\n      height: 35px;\n      vertical-align: center;\n      margin-right: 8px;\n    }\n\n    span {\n      font-size: 24px;\n      display: inline-block;\n      font-weight: 600;\n      line-height: 56px;\n      color: #151e5d;\n    }\n  }\n\n  &__actions {\n    box-sizing: border-box;\n    position: relative;\n    height: 55px;\n    display: flex;\n    align-items: center;\n    border-radius: 24px;\n    padding-right: 26px;\n    padding-left: 4px;\n    cursor: pointer;\n\n    &::after {\n      border: 5px solid transparent;\n      border-top-color: #9aa8bd;\n      border-bottom-width: 0;\n      right: 10px;\n      content: '';\n      display: block;\n      top: 42%;\n      position: absolute;\n      width: 0;\n    }\n  }\n}\n.login{\n  &__user{\n    position: relative;\n    .username{\n      display: inline-block;\n    }\n    .avatar{\n      max-width: 30px;\n      margin-left: 15px;\n      display: inline-block;\n    }\n  }\n}\n\n@media (max-width: 768px) {\n  .header {\n    padding: 0px 10px !important;\n  }\n}\n\n@media (max-width: 460px) {\n  .header__logo {\n    span {\n      font-size: 18px;\n    }\n    img {\n      width: 30px;\n      height: 30px;\n    }\n  }\n}\n\n@media (max-width: 360px) {\n  .header__logo {\n    span {\n      font-size: 16px;\n    }\n    img {\n      width: 30px;\n      height: 30px;\n    }\n  }\n\n  .login__user {\n    font-size: 12px;\n  }\n}\n</style>\n"]}]}